{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//функції для HTTP-запитів\n\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Функція для виконання HTTP-запитів до API Pixabay\nexport function searchImages(keyword) {\n  const apiKey = '43190537-4b40a622c8cb8590492e33b18';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    keyword\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Failed to fetch images');\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Sorry',\n          message:\n            'There are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      return data.hits;\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      throw error;\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { Spinner } from 'spin.js';\n\nlet spinner = null; // Змінна для зберігання індикатора завантаження\nlet instance = null; // Змінна для зберігання екземпляру SimpleLightbox\n\n// Функція для створення і показу індикатора завантаження\nfunction showLoader() {\n  spinner = new Spinner().spin();\n  document.getElementById('loader').appendChild(spinner.el);\n}\n\n// Функція для приховування індикатора завантаження\nfunction hideLoader() {\n  if (spinner) {\n    spinner.stop();\n    document.getElementById('loader').innerHTML = ''; // Очищаємо контейнер індикатора завантаження\n  }\n}\n\nexport function displayImages(images) {\n  showLoader(); // Показуємо індикатор завантаження перед відображенням зображень\n\n  const galleryElement = document.getElementById('gallery');\n  galleryElement.innerHTML = ''; // Очищаємо галерею перед відображенням нових зображень\n\n  images.forEach(image => {\n    const imageCard = createImageCard(image);\n    galleryElement.insertAdjacentHTML('beforeend', imageCard);\n  });\n\n  hideLoader(); // Приховуємо індикатор завантаження після відображення зображень\n\n  // Оновлюємо галерею, тільки якщо були додані нові картки зображень\n  if (!instance) {\n    createSimpleLightbox(); // Якщо екземпляр не існує, створюємо новий\n  } else {\n    instance.refresh(); // Якщо екземпляр вже існує, оновлюємо його\n  }\n}\n\n// Створення картки зображення\nfunction createImageCard(image) {\n  return `<div class=\"card\">\n  <div class=\"image-container\">\n   <a href=\"${image.largeImageURL}\" data-lightbox=\"image\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"image\" />\n      </a>\n  </div>\n  <table class=\"table\">\n        <tr> \n          <th class=\"options-name\">Likes</th>\n          <th class=\"options-name\">Views</th>\n          <th class=\"options-name\">Comments</th>\n          <th class=\"options-name\">Downloads</th>\n        </tr>\n        <tr> \n          <td class=\"value-description\">${image.likes}</td>\n          <td class=\"value-description\">${image.views}</td>\n          <td class=\"value-description\">${image.comments}</td>\n          <td class=\"value-description\">${image.downloads}</td>\n        </tr>\n    </table>\n  </div>`;\n}\n\nfunction createSimpleLightbox() {\n  instance = new SimpleLightbox('#gallery a', {\n    captionDelay: 250, // зображення підпису за 250 ms\n    captionsData: 'alt', // підпис зображення\n  });\n}\n","//вся логіка роботи додатка\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { searchImages } from './js/pixabay-api.js';\nimport { displayImages } from './js/render-functions.js';\n\n// Отримання елементів DOM\nconst form = document.querySelector('form');\nconst searchInput = document.querySelector('#search-input');\n\n// Обробник події для форми пошуку\nform.addEventListener('submit', async event => {\n  event.preventDefault(); // Заборона стандартної поведінки форми\n\n  const keyword = searchInput.value.trim(); // Отримання ключового слова для пошуку\n\n  // Перевірка на порожній рядок\n  if (keyword === '') {\n    displayErrorMessage('Please enter a search keyword');\n    return iziToast.error({\n      message: 'Please enter a search keyword',\n      position: 'topRight',\n    });;\n  }\n\n  try {\n    // Виконання пошуку зображень за ключовим словом\n    const images = await searchImages(keyword);\n\n    // Відображення отриманих зображень\n    displayImages(images);\n  } catch (error) {\n    console.error('Error searching images:', error);\n  }\n});"],"names":["searchImages","keyword","url","response","data","iziToast","error","spinner","instance","showLoader","Spinner","hideLoader","displayImages","images","galleryElement","image","imageCard","createImageCard","createSimpleLightbox","SimpleLightbox","form","searchInput","event"],"mappings":"owBAOO,SAASA,EAAaC,EAAS,CAEpC,MAAMC,EAAM,qEAA4C,mBACtDD,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,oEACF,SAAU,UACpB,CAAS,EAEID,EAAK,KACb,EACA,MAAME,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CC9BA,IAAIC,EAAU,KACVC,EAAW,KAGf,SAASC,GAAa,CACpBF,EAAU,IAAIG,IAAU,OACxB,SAAS,eAAe,QAAQ,EAAE,YAAYH,EAAQ,EAAE,CAC1D,CAGA,SAASI,GAAa,CAChBJ,IACFA,EAAQ,KAAI,EACZ,SAAS,eAAe,QAAQ,EAAE,UAAY,GAElD,CAEO,SAASK,EAAcC,EAAQ,CACpCJ,IAEA,MAAMK,EAAiB,SAAS,eAAe,SAAS,EACxDA,EAAe,UAAY,GAE3BD,EAAO,QAAQE,GAAS,CACtB,MAAMC,EAAYC,EAAgBF,CAAK,EACvCD,EAAe,mBAAmB,YAAaE,CAAS,CAC5D,CAAG,EAEDL,IAGKH,EAGHA,EAAS,QAAO,EAFhBU,GAIJ,CAGA,SAASD,EAAgBF,EAAO,CAC9B,MAAO;AAAA;AAAA,cAEKA,EAAM,aAAa;AAAA,oBACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAWhBA,EAAM,KAAK;AAAA,0CACXA,EAAM,KAAK;AAAA,0CACXA,EAAM,QAAQ;AAAA,0CACdA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIzD,CAEA,SAASG,GAAuB,CAC9BV,EAAW,IAAIW,EAAe,aAAc,CAC1C,aAAc,IACd,aAAc,KAClB,CAAG,CACH,CCjEA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAc,SAAS,cAAc,eAAe,EAG1DD,EAAK,iBAAiB,SAAU,MAAME,GAAS,CAC7CA,EAAM,eAAc,EAEpB,MAAMrB,EAAUoB,EAAY,MAAM,KAAI,EAGtC,GAAIpB,IAAY,GACd,2BAAoB,+BAA+B,EAC5CI,EAAS,MAAM,CACpB,QAAS,gCACT,SAAU,UACX,CAAA,EAGH,GAAI,CAEF,MAAMQ,EAAS,MAAMb,EAAaC,CAAO,EAGzCW,EAAcC,CAAM,CACrB,OAAQP,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,CAC/C,CACH,CAAC"}